# HelvetiCraft – Backend Dokumentation

## Übersicht

Das HelvetiCraft-Backend bildet das technische Rückgrat des gesamten Ecosystems.  
Es ist verantwortlich für die Verarbeitung von Spieldaten, wirtschaftlichen Berechnungen, Initiativen, Quiz-Funktionen sowie die Kommunikation zwischen Minecraft-Server, Web-Frontend und weiteren Diensten (z. B. Discord).

Das Backend ist als REST-API mit klar getrennten Services aufgebaut und greift auf mehrere Datenbanken zu.

---

## Hauptaufgaben des Backends

- Zentrale Datenverarbeitung und Geschäftslogik
- Verwaltung von Spiel-, Wirtschafts- und Benutzerinformationen
- Berechnung wirtschaftlicher Kennzahlen (z. B. Steuern, Rankings)
- Bereitstellung von API-Endpoints für Frontend, Server und Bots
- Sicherstellung konsistenter und fairer Abläufe ohne manuelle Eingriffe

---

## Architektur (vereinfacht)

- **Express.js API** als HTTP-Schnittstelle
- **Service-Layer** für Geschäftslogik
- **Datenzugriffsschicht** (MongoDB / SQL je nach Modul)
- **Routen** pro Funktionsbereich (z. B. Quiz, Wirtschaft, Initiativen)

Trennung von:
- Routing
- Logik
- Datenzugriff

---

## Backend-Module & Routen (Überblick)

### Quiz

**Zweck:**  
Bereitstellung von Quizfragen und Verwaltung von Spieler-Rankings.

**Funktionen:**
- Abrufen zufälliger Quizfragen
- Speichern und Aktualisieren von Spieler-Resultaten

**Typische Endpoints:**
- `GET /quiz/question`
- `POST /quiz/ranking`

---

### Wirtschaft

**Zweck:**  
Abbildung der Serverökonomie nach marktwirtschaftlichen und staatlichen Prinzipien.

**Funktionen:**
- Verarbeitung von Transaktionen
- Berechnung von Steuern
- Verwaltung von Staatsfonds-Daten
- Aggregation wirtschaftlicher Kennzahlen

**Logik:**
- Automatisierte Berechnungen
- Keine manuelle Administration nötig
- Datenbasis für Frontend-Statistiken

---

### Initiativen & Demokratie

**Zweck:**  
Technische Umsetzung demokratischer Entscheidungsprozesse.

**Funktionen:**
- Einreichen von Initiativen
- Erfassen von Stimmen
- Status-Tracking (eingereicht, validiert, angenommen/abgelehnt)
- Übergabe an Admin- oder Spieler-Ausführung

**Logik:**
- Mehrstufiger Ablauf
- Zeit- und Mehrheitsabhängig
- Trennung zwischen Prüfung und Abstimmung

---

### Benutzer / Spieler

**Zweck:**  
Verwaltung spielerbezogener Daten.

**Funktionen:**
- Identifikation von Spielern
- Zuordnung von wirtschaftlichen und demokratischen Aktionen
- Historisierung relevanter Daten

---

### Kommunikation & Integration

**Zweck:**  
Anbindung externer Systeme.

**Funktionen:**
- API-Zugriff für Web-Frontend
- Datengrundlage für Discord-Bot
- Synchronisation mit dem Minecraft-Server

---

## Fehlerbehandlung

- Einheitliche HTTP-Statuscodes
- Klare Trennung zwischen Client-Fehlern (400) und Server-Fehlern (500)
- Logging auf Service-Ebene zur Nachvollziehbarkeit

---

## Sicherheits- & Designprinzipien

- Keine direkte Logik im Routing
- Klare Zuständigkeiten pro Modul
- Automatisierung statt manueller Eingriffe
- Skalierbarkeit durch modulare Struktur

---

## Rolle im Gesamtsystem

Das Backend ist die **zentrale Entscheidungs- und Berechnungseinheit** von HelvetiCraft.  
Alle wirtschaftlichen, demokratischen und spielrelevanten Prozesse laufen hier zusammen und werden regelbasiert verarbeitet.

Es stellt sicher, dass:
- Entscheidungen nachvollziehbar sind
- Abläufe fair bleiben
- externe Clients konsistente Daten erhalten

---

## Zusammenfassung

Das HelvetiCraft-Backend verbindet Spielmechaniken mit realen wirtschaftlichen und demokratischen Systemen.  
Durch die modulare Architektur und die klare Trennung von Logik und Schnittstellen bildet es die Grundlage für einen stabilen, erweiterbaren und pädagogisch nutzbaren Serverbetrieb.
